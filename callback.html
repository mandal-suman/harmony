<!DOCTYPE html>
<html>

<head>
    <title>Spotify Authentication Callback</title>
    <script>
        // Extract token from URL hash
        const hash = window.location.hash.substring(1);
        const params = new URLSearchParams(hash);
        const token = params.get('access_token');

        if (token) {
            // Send token back to main window
            window.opener.postMessage({
                type: 'SPOTIFY_AUTH',
                token: token
            }, window.opener.location.origin);
            window.close();
        } else {
            window.opener.postMessage({
                type: 'SPOTIFY_AUTH_ERROR'
            }, window.opener.location.origin);
            window.close();
        }
    </script>
</head>

<body>
    <p>Processing authentication...</p>
</body>

</html>